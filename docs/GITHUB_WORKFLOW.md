# PAF GitHub Workflow

> Complete documentation of GitHub Integration

---

## Overview

PAF uses GitHub for complete lifecycle management of findings:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PAF + GITHUB WORKFLOW                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Agent finds problem                                                       â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â†’ COMMS.md (internal communication)                               â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â””â”€â†’ Create GitHub Issue                                             â”‚
â”‚               â”‚                                                             â”‚
â”‚               â”œâ”€â†’ Labels: finding, agent, priority, category                â”‚
â”‚               â”‚                                                             â”‚
â”‚               â””â”€â†’ Project Board: Backlog â†’ In Progress â†’ Done               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Setup

### Automatic Setup

On first `/paf-cto` call, the CTO checks if `.paf/GITHUB_SYSTEM.md` exists.
If not, **Gideon** (Setup Agent) is automatically spawned.

### Manual Setup

```bash
/paf-setup-github
```

### What Gideon Sets Up

1. **91 Labels** - Type, Priority, Phase, Agent, Category, Status
2. **7 Project Boards** - Sprint, Security, Backlog, Architecture, Bugs, Tech Debt, Release
3. **8 Issue Templates** - Agent Finding, Bug, Feature, Incident, ADR, Task, Retro, Config
4. **6 GitHub Actions** - Auto-Triage, Stale, Metrics, Release Notes
5. **3 Milestones** - Sprint 1, Backlog, Next Release
6. **.paf/GITHUB_SYSTEM.md** - Documentation of all IDs

---

## For Agents

### Creating Issues

Every agent with findings creates GitHub issues:

```bash
# 1. Determine next number
LAST=$(gh issue list --label "{AGENT_LABEL}" --json title -q '.[].title' | \
  grep -oP '{PREFIX}-\K\d+' | sort -n | tail -1)
NEXT=$((${LAST:-0} + 1))

# 2. Create issue
gh issue create \
  --title "[{PREFIX}-$NEXT] {TITLE}" \
  --body "## Finding

{DESCRIPTION}

## Location

\`{FILE}:{LINE}\`

## Severity

{CRITICAL|HIGH|MEDIUM|LOW}

## Recommendation

{RECOMMENDATION}

---
_Generated by PAF Agent {NAME}_" \
  --label "finding,ğŸ¤– agent,{AGENT_LABEL},{PRIORITY},{CATEGORY}"

# 3. Add to board
ISSUE_URL=$(gh issue view --json url -q .url)
gh project item-add {BOARD_NUM} --owner {OWNER} --url $ISSUE_URL
```

### Prefixes per Agent

| Agent | Prefix | Board | Label |
|-------|--------|-------|-------|
| Alex ğŸ”’ | SEC | Security | `ğŸ”’ alex` |
| Emma âš¡ | PERF | Sprint | `âš¡ emma` |
| Sam ğŸ¨ | UX | Sprint | `ğŸ¨ sam` |
| David ğŸ”€ | SCALE | Architecture | `ğŸ”€ david` |
| Max ğŸ”§ | MAINT | Tech Debt | `ğŸ”§ max` |
| Luna â™¿ | A11Y | Sprint | `â™¿ luna` |
| Tom ğŸ’° | COST | Sprint | `ğŸ’° tom` |
| Nina ğŸ¯ | TRIAGE | ALL | `ğŸ¯ nina` |
| Leo ğŸ“š | DOC | Sprint | `ğŸ“š leo` |
| Ava ğŸ’¡ | IDEA | Backlog | `ğŸ’¡ ava` |

---

## Project Boards

### ğŸ“‹ PAF Sprint Board

Main development board.

| Column | Description |
|--------|-------------|
| Backlog | Waiting items |
| Ready | Ready for sprint |
| In Progress | Work in progress |
| Review | Code review |
| Testing | Being tested |
| Done | Completed |
| Blocked | Blocked |

**Agents:** Emma, Sam, Luna, Tom, Leo, Nina, Ben, Michael, Kai, Sarah, Anna, Chris, Dan, Rachel, Perf, Miggy, Monitor, George, Otto, Docu

### ğŸ”’ PAF Security Board

Security findings and vulnerabilities.

| Column | Description |
|--------|-------------|
| New | New findings |
| Triaged | Prioritized |
| Remediation | Fix in progress |
| Verification | Fix being verified |
| Resolved | Resolved |

**Agents:** Alex, Scanner, Nina

### ğŸ“Š PAF Product Backlog

Feature requests and ideas.

| Column | Description |
|--------|-------------|
| Ideas | Initial ideas |
| Researching | Being researched |
| Prioritized | Prioritized |
| Ready | Ready for planning |
| Scheduled | Scheduled |

**Agents:** Maya, Iris, Ava, Kai

### ğŸ—ï¸ PAF Architecture

Architecture Decision Records (ADRs).

| Column | Description |
|--------|-------------|
| Proposed | Proposed |
| Discussion | Under discussion |
| Approved | Approved |
| Implemented | Implemented |
| Superseded | Superseded |

**Agents:** Sophia, David, Michael

### ğŸ› PAF Bug Tracker

Bugs and incidents.

| Column | Description |
|--------|-------------|
| Reported | Reported |
| Confirmed | Confirmed |
| In Progress | Work in progress |
| Fixed | Fixed |
| Verified | Verified |

**Agents:** Tina, Inci, Feedback, Bug-Fixer

### ğŸ”§ PAF Tech Debt

Technical debt.

| Column | Description |
|--------|-------------|
| Identified | Identified |
| Prioritized | Prioritized |
| In Progress | Work in progress |
| Resolved | Resolved |

**Agents:** Max, Otto, Stan

### ğŸš€ PAF Release Pipeline

Release management.

| Column | Description |
|--------|-------------|
| Staging | In staging |
| QA | QA approval |
| Ready | Release ready |
| Deploying | Being deployed |
| Released | Released |

**Agents:** Tony, Rel

---

## Labels

### Type Labels

| Label | Color | Description |
|-------|-------|-------------|
| `bug` | ğŸ”´ | Something isn't working |
| `feature` | ğŸ”µ | New feature request |
| `finding` | ğŸŸ£ | Agent-generated finding |
| `task` | ğŸŸ¡ | Implementation task |
| `adr` | ğŸ”µ | Architecture Decision Record |
| `incident` | ğŸ”´ | Production incident |
| `epic` | ğŸ”µ | Large feature grouping |

### Priority Labels

| Label | Color | Meaning |
|-------|-------|---------|
| `P0` | ğŸ”´ | Critical - Fix immediately |
| `P1` | ğŸŸ  | High - This sprint |
| `P2` | ğŸŸ¡ | Medium - Next sprint |
| `P3` | ğŸŸ¢ | Low - Backlog |

### Category Labels

| Label | Description |
|-------|-------------|
| `security` | Security related |
| `performance` | Performance related |
| `ux` | User experience |
| `accessibility` | Accessibility (a11y) |
| `architecture` | Architecture related |
| `documentation` | Documentation |
| `tech-debt` | Technical debt |
| `cost` | Cost optimization |

---

## GitHub Actions

### Auto-Triage

**Trigger:** Issue with `finding` label created

**Effect:**
- Issue is automatically added to the correct board
- Security issues â†’ Security Board
- Tech Debt â†’ Tech Debt Board
- Others â†’ Sprint Board

### Stale Issues

**Trigger:** Issue without update for 14 days

**Effect:**
- `stale` label is added
- After 7 more days: Warning
- Exempt: P0, P1, blocked, pinned

### Sprint Metrics

**Trigger:** Milestone closed

**Effect:**
- Sprint summary issue is created
- Velocity is calculated
- Metrics are documented

### Release Notes

**Trigger:** Git tag created

**Effect:**
- GitHub Release is created
- Release notes generated from PRs
- Changelog updated

---

## Issue Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ISSUE LIFECYCLE                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ 1. CREATE (Agent)                                                           â”‚
â”‚    gh issue create â†’ Set labels â†’ Add to board                              â”‚
â”‚                                                                             â”‚
â”‚ 2. TRIAGE (Nina, Kai)                                                       â”‚
â”‚    Set priority â†’ Assign milestone â†’ Plan sprint                            â”‚
â”‚                                                                             â”‚
â”‚ 3. IMPLEMENT (Sarah, Anna, etc.)                                            â”‚
â”‚    Board: In Progress â†’ Create branch â†’ Create PR                           â”‚
â”‚                                                                             â”‚
â”‚ 4. REVIEW (Rachel, Stan)                                                    â”‚
â”‚    PR Review â†’ Approve/Request Changes                                      â”‚
â”‚                                                                             â”‚
â”‚ 5. MERGE                                                                    â”‚
â”‚    PR merged â†’ Issue auto-closed â†’ Board: Done                              â”‚
â”‚                                                                             â”‚
â”‚ 6. RELEASE (Rel)                                                            â”‚
â”‚    Release Notes â†’ GitHub Release                                           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Troubleshooting

### "gh: command not found"

```bash
brew install gh
gh auth login
```

### "Resource not accessible by integration"

```bash
gh auth refresh -s project,repo,write:org
```

### Issues not being added to board

Check repository variables:
- `PAF_SPRINT_BOARD_URL`
- `PAF_SECURITY_BOARD_URL`
- etc.

### Gideon fails

1. Check `gh auth status`
2. Check repository permissions
3. Run `/paf-setup-github` again

---

## References

- **Config:** `~/.paf/config/github.yaml`
- **Labels:** `~/.paf/config/labels.yaml`
- **Projects:** `~/.paf/config/projects.yaml`
- **Setup Agent:** `~/.paf/agents/utility/gideon.md`
- **System Template:** `~/.paf/templates/GITHUB_SYSTEM_TEMPLATE.md`
